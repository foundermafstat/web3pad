# Server Setup Instructions

## Запуск сервера для авторизации через кошелек

Для работы авторизации через Stacks кошелек необходимо запустить сервер.

### 1. Перейдите в папку server
```bash
cd server
```

### 2. Установите зависимости (если еще не установлены)
```bash
npm install
```

### 3. Настройте переменные окружения
Создайте файл `.env` в папке `server` со следующим содержимым:
```env
DATABASE_URL="your_database_url"
NEXTAUTH_SECRET="your_nextauth_secret"
```

### 4. Запустите сервер
```bash
npm start
```

Сервер должен запуститься на порту **3001** и вы увидите сообщение:
```
W3P server running on port 3001
```

### 5. Проверьте работу сервера
Откройте браузер и перейдите по адресу:
```
http://localhost:3001/api/auth/leather
```

Должна появиться ошибка "Method Not Allowed" (это нормально, так как это POST endpoint).

## Устранение проблем

### Ошибка "CredentialsSignin"
- Убедитесь, что сервер запущен на порту 3001
- Проверьте, что база данных доступна
- Проверьте консоль браузера на наличие дополнительных ошибок

### Ошибка подключения к серверу
- Убедитесь, что сервер запущен
- Проверьте, что порт 3001 не занят другим приложением
- Убедитесь, что в `.env` файле клиента правильно указан `NEXT_PUBLIC_SERVER_URL`

### Проблемы с базой данных
- Убедитесь, что база данных запущена
- Проверьте правильность `DATABASE_URL` в `.env`
- Запустите миграции: `npx prisma migrate dev`
